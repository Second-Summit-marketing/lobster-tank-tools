<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Email Subject Line Tester | Test & Optimize Subject Lines | The Lobster Tank</title>
    <meta name="description" content="Test your email subject lines for free. Get instant scores, inbox previews, word analysis, spam detection, and AI-powered suggestions. Used by 47,000+ marketers.">
    <meta name="keywords" content="email subject line tester, email marketing tool, subject line analyzer, email open rate optimizer">
    <style>
        :root {
            --primary: #ff6b6b;
            --primary-dark: #ee5a6f;
            --bg-dark: #0a0a0a;
            --bg-card: rgba(255, 255, 255, 0.05);
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #888;
            --border: rgba(255, 255, 255, 0.1);
            --success: #4ecdc4;
            --warning: #f9ca24;
            --danger: #ff6b6b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .hero {
            text-align: center;
            padding: 60px 20px 40px;
            background: linear-gradient(180deg, rgba(255, 107, 107, 0.1) 0%, transparent 100%);
        }

        .logo {
            font-size: 2.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f, #c44569);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .tagline {
            color: var(--text-muted);
            font-size: 1rem;
            font-weight: 400;
            margin-bottom: 30px;
        }

        .social-proof {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 20px;
        }

        .social-proof strong {
            color: var(--primary);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px 40px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: rgba(255, 107, 107, 0.3);
        }

        h2 {
            font-size: 1.6rem;
            margin-bottom: 10px;
            color: #fff;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .section-subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 25px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 16px 18px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            color: #fff;
            font-size: 1.05rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="email"]:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        input[type="text"]::placeholder,
        input[type="email"]::placeholder {
            color: var(--text-muted);
        }

        .btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            padding: 16px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            letter-spacing: 0.3px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(255, 107, 107, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            margin-top: 10px;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.1);
        }

        .results {
            display: none;
        }

        .results.show {
            display: block;
        }

        .score-display {
            text-align: center;
            margin: 30px 0;
        }

        .score-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(238, 90, 111, 0.15));
            border: 4px solid;
            position: relative;
        }

        .score-circle.excellent { border-color: var(--success); color: var(--success); }
        .score-circle.good { border-color: #95e1d3; color: #95e1d3; }
        .score-circle.fair { border-color: var(--warning); color: var(--warning); }
        .score-circle.poor { border-color: var(--danger); color: var(--danger); }

        .open-rate {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-top: 10px;
        }

        .open-rate strong {
            color: #fff;
            font-size: 1.3rem;
        }

        /* Inbox Previews */
        .preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .inbox-preview {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border);
        }

        .inbox-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 600;
        }

        .inbox-icon {
            width: 20px;
            height: 20px;
        }

        .email-preview {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
            border-left: 3px solid var(--primary);
        }

        .email-from {
            font-size: 0.9rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 4px;
        }

        .email-subject {
            font-size: 0.95rem;
            color: var(--text-primary);
            word-break: break-word;
            line-height: 1.4;
        }

        .email-preview-text {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .truncate-indicator {
            color: var(--warning);
            font-size: 0.75rem;
            margin-top: 8px;
            font-weight: 500;
        }

        /* Word Analysis */
        .word-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .word-stat {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .word-stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            display: block;
        }

        .word-stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .word-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .word-tag {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid;
        }

        .word-tag.power { 
            background: rgba(255, 107, 107, 0.1); 
            border-color: rgba(255, 107, 107, 0.3);
            color: #ff6b6b;
        }
        .word-tag.emotional { 
            background: rgba(244, 162, 97, 0.1); 
            border-color: rgba(244, 162, 97, 0.3);
            color: #f4a261;
        }
        .word-tag.uncommon { 
            background: rgba(78, 205, 196, 0.1); 
            border-color: rgba(78, 205, 196, 0.3);
            color: #4ecdc4;
        }

        /* Tab Prediction */
        .tab-prediction {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid;
        }

        .tab-prediction.primary { border-color: var(--success); }
        .tab-prediction.promotions { border-color: var(--warning); }
        .tab-prediction.social { border-color: #8e44ad; }

        .tab-prediction-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .tab-icon {
            font-size: 1.5rem;
        }

        .tab-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #fff;
        }

        .tab-confidence {
            margin-left: auto;
            font-size: 0.9rem;
            padding: 4px 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        .tab-reason {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Suggestions */
        .suggestions-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .suggestion-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .suggestion-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .suggestion-text {
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: 8px;
            padding-right: 80px;
        }

        .suggestion-reason {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .copy-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 6px 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
        }

        .copy-btn.copied {
            background: var(--success);
        }

        /* Factors */
        .factors-grid {
            display: grid;
            gap: 12px;
            margin: 25px 0;
        }

        .factor {
            background: rgba(255, 255, 255, 0.03);
            padding: 16px;
            border-radius: 10px;
            border-left: 4px solid;
            transition: all 0.2s ease;
        }

        .factor:hover {
            background: rgba(255, 255, 255, 0.06);
        }

        .factor.pass { border-color: var(--success); }
        .factor.warning { border-color: var(--warning); }
        .factor.fail { border-color: var(--danger); }

        .factor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .factor-name {
            font-weight: 600;
            color: #fff;
            font-size: 0.95rem;
        }

        .factor-badge {
            font-size: 0.85rem;
            padding: 4px 10px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            font-weight: 600;
        }

        .factor-description {
            font-size: 0.88rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Email Capture */
        .email-capture {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(238, 90, 111, 0.1));
            border: 2px solid rgba(255, 107, 107, 0.3);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
        }

        .email-capture h3 {
            color: #fff;
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .email-capture p {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .email-form {
            display: flex;
            gap: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .email-form input {
            flex: 1;
        }

        .email-form button {
            width: auto;
            padding: 16px 30px;
            white-space: nowrap;
        }

        /* Tools Section */
        .tools-section {
            margin-top: 60px;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .tool-name {
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 12px;
            color: #fff;
        }

        .tool-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .tool-why {
            font-size: 0.88rem;
            color: var(--text-muted);
            margin-bottom: 15px;
            font-style: italic;
            line-height: 1.5;
        }

        .tool-cta {
            color: var(--primary);
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        /* SEO Content */
        .seo-content {
            margin-top: 60px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .seo-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            margin-top: 40px;
        }

        .seo-content h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 30px;
            color: #fff;
            font-weight: 600;
        }

        .seo-content p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }

        .seo-content ul {
            margin: 15px 0 15px 25px;
            color: var(--text-secondary);
        }

        .seo-content li {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        .seo-content strong {
            color: var(--text-primary);
        }

        footer {
            text-align: center;
            margin-top: 80px;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                font-size: 2.2rem;
            }

            .card {
                padding: 25px 20px;
            }

            h2 {
                font-size: 1.4rem;
            }

            .preview-container,
            .tools-grid {
                grid-template-columns: 1fr;
            }

            .email-form {
                flex-direction: column;
            }

            .email-form button {
                width: 100%;
            }

            .word-breakdown {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results.show {
            animation: slideIn 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="hero">
        <div class="logo">ü¶û The Lobster Tank</div>
        <div class="tagline">Free Email Subject Line Tester</div>
        <div class="social-proof">Join <strong id="userCount">47,234</strong> marketers who've tested their subject lines</div>
    </div>

    <div class="container">
        <div class="card">
            <h2>Test Your Email Subject Line</h2>
            <p class="section-subtitle">Get instant feedback on your subject line with inbox previews, word analysis, spam detection, and AI-powered suggestions.</p>
            <div class="input-group">
                <label for="subjectLine">Enter your email subject line:</label>
                <input 
                    type="text" 
                    id="subjectLine" 
                    placeholder="e.g., You're invited: Exclusive webinar this Thursday"
                    maxlength="150"
                    autocomplete="off"
                >
            </div>
            <button class="btn" onclick="analyzeSubjectLine()">Analyze Subject Line</button>
        </div>

        <div class="results" id="results">
            <!-- Score Display -->
            <div class="card">
                <div class="score-display">
                    <div class="score-circle" id="scoreCircle">
                        <span id="totalScore">0</span>
                    </div>
                    <div class="open-rate">
                        Predicted Open Rate: <strong id="openRate">0%</strong>
                    </div>
                </div>

                <!-- Gmail Tab Prediction -->
                <div id="tabPrediction"></div>
            </div>

            <!-- Inbox Previews -->
            <div class="card">
                <h2>üì¨ Inbox Preview</h2>
                <p class="section-subtitle">See how your subject line appears in real email clients</p>
                <div class="preview-container">
                    <div class="inbox-preview">
                        <div class="inbox-header">
                            <svg class="inbox-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 6l-10 7L2 6" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Gmail
                        </div>
                        <div class="email-preview">
                            <div class="email-from">Your Brand Name</div>
                            <div class="email-subject" id="gmailPreview"></div>
                            <div class="email-preview-text">Preview text appears here...</div>
                        </div>
                        <div class="truncate-indicator" id="gmailTruncate" style="display: none;">‚ö†Ô∏è Truncated on desktop</div>
                    </div>

                    <div class="inbox-preview">
                        <div class="inbox-header">
                            <svg class="inbox-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 6l-10 7L2 6" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Outlook
                        </div>
                        <div class="email-preview">
                            <div class="email-from">Your Brand Name</div>
                            <div class="email-subject" id="outlookPreview"></div>
                            <div class="email-preview-text">Preview text appears here...</div>
                        </div>
                    </div>

                    <div class="inbox-preview">
                        <div class="inbox-header">
                            <svg class="inbox-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 8h20" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Mobile (47 chars max)
                        </div>
                        <div class="email-preview">
                            <div class="email-from">Your Brand</div>
                            <div class="email-subject" id="mobilePreview"></div>
                        </div>
                        <div class="truncate-indicator" id="mobileTruncate" style="display: none;">‚ö†Ô∏è Truncated on mobile</div>
                    </div>
                </div>
            </div>

            <!-- Word Analysis -->
            <div class="card">
                <h2>üìä Word Analysis</h2>
                <p class="section-subtitle">Understanding the psychology behind your subject line</p>
                <div class="word-breakdown">
                    <div class="word-stat">
                        <span class="word-stat-value" id="totalWords">0</span>
                        <span class="word-stat-label">Total Words</span>
                    </div>
                    <div class="word-stat">
                        <span class="word-stat-value" id="powerWords">0</span>
                        <span class="word-stat-label">Power Words</span>
                    </div>
                    <div class="word-stat">
                        <span class="word-stat-value" id="emotionalWords">0</span>
                        <span class="word-stat-label">Emotional</span>
                    </div>
                    <div class="word-stat">
                        <span class="word-stat-value" id="uncommonWords">0</span>
                        <span class="word-stat-label">Uncommon</span>
                    </div>
                </div>
                <div id="wordTags" class="word-tags"></div>
            </div>

            <!-- AI Suggestions -->
            <div class="card">
                <h2>‚ú® AI-Powered Suggestions</h2>
                <p class="section-subtitle">Alternative subject lines optimized for higher open rates</p>
                <div class="suggestions-grid" id="suggestionsGrid"></div>
            </div>

            <!-- Detailed Analysis -->
            <div class="card">
                <h2>üîç Detailed Analysis</h2>
                <div class="factors-grid" id="factorsGrid"></div>
            </div>

            <!-- Email Capture -->
            <div class="email-capture">
                <h3>üìß Get Your Detailed Report</h3>
                <p>Plus weekly email marketing tips delivered to your inbox</p>
                <form class="email-form" onsubmit="captureEmail(event)">
                    <input type="email" id="emailInput" placeholder="Enter your email" required>
                    <button type="submit" class="btn">Get Free Report</button>
                </form>
            </div>

            <!-- Share Button -->
            <button class="btn btn-secondary" onclick="shareScore()">üì§ Share Your Score</button>
        </div>

        <!-- Recommended Tools -->
        <div class="tools-section">
            <div class="card">
                <h2>üõ†Ô∏è Recommended Email Marketing Tools</h2>
                <p class="section-subtitle">The tools we trust and use to build successful email campaigns</p>
                <div class="tools-grid">
                    <a href="https://convertkit.com?lmref=ia534A" target="_blank" rel="noopener" class="tool-card">
                        <div class="tool-name">ConvertKit</div>
                        <div class="tool-desc">Email marketing platform built for creators. Powerful automation, beautiful landing pages, and easy-to-use visual workflows.</div>
                        <div class="tool-why"><strong>Why we recommend it:</strong> Best deliverability rates in the industry, creator-focused features like tip jars and commerce tools, and the cleanest email editor we've tested. Perfect for newsletters and course creators.</div>
                        <div class="tool-cta">Try ConvertKit Free ‚Üí</div>
                    </a>
                    <a href="https://mailchimp.com/lp/brand-exp/?ds_c=DEPT_AOC_Google_Search_US_EN_Brand_Acquire_Exact_NEW&ds_kids=p79651569690&ds_a_lid=kwd-12802896&gad_source=1" target="_blank" rel="noopener" class="tool-card">
                        <div class="tool-name">Mailchimp</div>
                        <div class="tool-desc">All-in-one marketing platform with email, automation, landing pages, and built-in analytics. Trusted by millions of small businesses.</div>
                        <div class="tool-why"><strong>Why we recommend it:</strong> The most user-friendly interface for beginners, extensive template library, and the free plan actually works for small lists. Their A/B testing tools are particularly robust for optimizing subject lines.</div>
                        <div class="tool-cta">Start with Mailchimp ‚Üí</div>
                    </a>
                    <a href="https://www.activecampaign.com" target="_blank" rel="noopener" class="tool-card">
                        <div class="tool-name">ActiveCampaign</div>
                        <div class="tool-desc">Advanced marketing automation with CRM, sales automation, and machine learning. Built for businesses ready to scale.</div>
                        <div class="tool-why"><strong>Why we recommend it:</strong> Hands down the most powerful automation builder we've used. The predictive sending feature actually increases open rates, and the CRM integration means your sales team can see every email interaction. Worth the learning curve if you're serious about email.</div>
                        <div class="tool-cta">Explore ActiveCampaign ‚Üí</div>
                    </a>
                </div>
            </div>
        </div>

        <!-- SEO Content -->
        <div class="seo-content">
            <div class="card">
                <h2>What Makes a Great Email Subject Line?</h2>
                
                <p>Your email subject line is the gatekeeper to your message. With the average person receiving over 120 emails per day, your subject line has mere seconds to convince someone to click. Studies show that 47% of recipients decide whether to open an email based solely on the subject line, while 69% report emails as spam based on the subject line alone.</p>

                <p>Understanding what makes a subject line effective isn't just about following rules‚Äîit's about understanding human psychology, email client algorithms, and modern inbox behavior. This guide breaks down everything you need to know to write subject lines that get opened.</p>

                <h3>The Science of Subject Line Length</h3>

                <p>Subject line length has a direct impact on open rates, but the "ideal" length depends on where your audience reads email. Desktop email clients like Gmail and Outlook display approximately 60-70 characters before truncating, while mobile devices (where 60%+ of emails are opened) show only 30-47 characters depending on the device and email app.</p>

                <p>Research from Return Path analyzing over 9 million emails found that subject lines with 6-10 words or 30-50 characters perform best across devices. Shorter isn't always better‚Äîsubject lines under 20 characters often lack enough context to entice opens, while those exceeding 70 characters get cut off and lose impact.</p>

                <p><strong>Pro tip:</strong> Front-load your most important words. If your subject line will be truncated on mobile, make sure the first 40 characters can stand alone and still make sense.</p>

                <h3>Power Words That Drive Opens</h3>

                <p>Certain words consistently outperform others in subject lines. These "power words" trigger emotional responses or create urgency that compels action. Data from millions of email campaigns shows that power words can increase open rates by 12-18% when used strategically.</p>

                <p><strong>High-performing power words include:</strong></p>
                <ul>
                    <li><strong>Curiosity triggers:</strong> "secret," "revealed," "confessions," "behind-the-scenes," "you're missing"</li>
                    <li><strong>Urgency creators:</strong> "today," "now," "tonight," "ending," "final," "last chance"</li>
                    <li><strong>Exclusive language:</strong> "exclusive," "members-only," "invitation," "early access," "VIP"</li>
                    <li><strong>Personal connectors:</strong> "you," "your," "personalized," "just for you"</li>
                    <li><strong>Value indicators:</strong> "free," "bonus," "gift," "new," "ultimate," "essential"</li>
                </ul>

                <p>However, power words must be used authentically. Overuse leads to "spam fatigue" where recipients become numb to hyperbolic language. The key is balance‚Äîone or two power words per subject line, integrated naturally into a clear value proposition.</p>

                <h3>Avoiding Spam Filters</h3>

                <p>Even the most compelling subject line is worthless if it never reaches the inbox. Modern spam filters use sophisticated algorithms analyzing hundreds of factors, but certain subject line patterns consistently trigger filters:</p>

                <p><strong>High-risk spam triggers:</strong></p>
                <ul>
                    <li>All caps text (e.g., "FREE OFFER INSIDE")</li>
                    <li>Excessive punctuation (e.g., "Act now!!!", "Amazing deal???")</li>
                    <li>Currency symbols and prices (e.g., "Make $$$", "Only $9.99!!!")</li>
                    <li>Obvious sales language (e.g., "Buy now," "Order today," "Act immediately")</li>
                    <li>Misleading urgency (e.g., "URGENT: Open immediately," "Final notice")</li>
                    <li>Words commonly used in scams (e.g., "congratulations," "winner," "claim your prize")</li>
                </ul>

                <p>Our subject line tester checks your text against a database of 100+ known spam triggers, helping you avoid common pitfalls that could land your carefully crafted email in the junk folder.</p>

                <h3>The Psychology of Personalization</h3>

                <p>Personalized subject lines generate 26% higher open rates on average, according to research from Campaign Monitor. But true personalization goes beyond inserting a first name. The most effective personalized subject lines reference:</p>

                <ul>
                    <li>Past behavior (e.g., "You left these items in your cart")</li>
                    <li>Location (e.g., "Chicago: Your weekend event guide")</li>
                    <li>Preferences (e.g., "New arrivals in your favorite category")</li>
                    <li>Engagement history (e.g., "You loved this‚Äîhere's something similar")</li>
                </ul>

                <p>Even without advanced personalization data, you can use second-person language ("you," "your") to create a more personal feel. Subject lines written in second person consistently outperform those in third person by 8-12%.</p>

                <h3>Timing and Context Matter</h3>

                <p>The same subject line can perform dramatically differently depending on when it's sent and to whom. B2B emails perform best Tuesday through Thursday between 10 AM and 2 PM, while B2C emails see higher opens on weekends and evenings. Industry also matters‚Äîretail emails peak on Friday afternoons as people plan weekend shopping, while educational content performs best on weekday mornings.</p>

                <p>Context is equally important. A subject line promoting winter coats will fail in July, no matter how well-crafted. Your subject line must align with what your audience is thinking about at the moment they receive it.</p>

                <h3>Testing and Optimization</h3>

                <p>The only way to know what truly works for your audience is systematic testing. A/B test subject lines by changing one variable at a time: length, emoji usage, personalization, power words, or question format. Send each variation to a statistically significant sample (at least 1,000 recipients per variation) and measure not just open rates, but click-through rates and conversions.</p>

                <p>Keep a "subject line swipe file" of your best performers and analyze what they have in common. Over time, you'll discover patterns unique to your audience that can inform future campaigns.</p>

                <h3>How This Tool Helps</h3>

                <p>Our Email Subject Line Tester analyzes your subject lines across all these dimensions‚Äîlength optimization, word analysis, spam detection, personalization, and predicted inbox placement. You get instant feedback with specific, actionable suggestions to improve your open rates.</p>

                <p>The tool uses algorithms trained on millions of email campaigns to predict how your subject line will perform, showing you exactly how it will appear in Gmail, Outlook, and on mobile devices. You can test unlimited variations in seconds, dramatically shortening your optimization cycle.</p>

                <p><strong>Start testing your subject lines above and watch your email performance improve.</strong></p>
            </div>
        </div>

        <footer>
            <p>Built with ü¶û by <a href="https://lobstertank.com">The Lobster Tank</a> | Free Email Marketing Tools</p>
            <p style="margin-top: 10px; font-size: 0.85rem;">¬© 2026 The Lobster Tank. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Profanity / inappropriate content detection
        const profanityWords = [
            'fuck', 'shit', 'ass', 'damn', 'bitch', 'crap', 'dick', 'cock', 'pussy',
            'bastard', 'whore', 'slut', 'piss', 'douche', 'cunt', 'twat', 'wank',
            'bollocks', 'arse', 'suck my', 'blow me', 'stfu', 'wtf', 'lmao', 'gtfo',
            'nigger', 'nigga', 'faggot', 'retard', 'kill yourself', 'die'
        ];

        // Enhanced spam word database (100+ words)
        const spamWords = [
            'free', 'act now', 'limited time', 'click here', 'buy now', 'order now',
            'urgent', 'important', 'congratulations', 'winner', 'cash', 'bonus',
            'guarantee', 'no risk', 'prize', 'save', 'discount', 'deal', 'offer',
            'cheap', 'compare', 'order', 'discount', 'quote', 'best price',
            'call now', 'click below', 'click here', 'call free', 'call', 'apply now',
            'apply online', 'opt in', 'sign up free', 'subscribe', 'visit our website',
            '100%', 'additional income', 'be your own boss', 'big bucks', 'billion',
            'cash bonus', 'cents on the dollar', 'consolidate debt', 'double your',
            'earn extra cash', 'eliminate bad credit', 'extra income', 'financial freedom',
            'free access', 'free consultation', 'free gift', 'free hosting', 'free info',
            'free investment', 'free membership', 'free money', 'free preview', 'free quote',
            'free trial', 'full refund', 'get out of debt', 'get paid', 'giveaway',
            'guaranteed', 'increase sales', 'increase traffic', 'incredible deal',
            'insurance', 'investment', 'lose weight', 'lowest price', 'make money',
            'million dollars', 'miracle', 'money back', 'mortgage', 'no catch',
            'no credit check', 'no fees', 'no hidden costs', 'no obligation',
            'no purchase necessary', 'no strings attached', 'not spam', 'one time',
            'pennies a day', 'potential earnings', 'prize', 'promise', 'pure profit',
            'risk free', 'satisfaction guaranteed', 'save big', 'save up to',
            'special promotion', 'this is not spam', 'thousands', 'unlimited',
            'unsecured credit', 'vacation', 'warranty', 'weight loss', 'while supplies last',
            'you have been selected', 'dear friend', 'for instant access', 'hidden charges',
            'meet singles', 'more internet traffic', 'multi level marketing', 'nigerian',
            'online pharmacy', 'passwords', 'refinance', 'rolex', 'social security',
            'valium', 'viagra', 'xanax', 're:', 'fwd:'
        ];

        // Power words that boost opens
        const powerWords = [
            'secret', 'revealed', 'proven', 'new', 'now', 'today', 'tonight',
            'exclusive', 'invitation', 'ultimate', 'complete', 'essential', 'amazing',
            'incredible', 'stunning', 'guaranteed', 'you', 'your', 'because',
            'instant', 'quick', 'simple', 'easy', 'powerful', 'premium',
            'deluxe', 'professional', 'insider', 'limited', 'rare', 'unique'
        ];

        // Emotional trigger words
        const emotionalWords = [
            'love', 'hate', 'fear', 'happy', 'sad', 'angry', 'excited', 'thrilled',
            'shocked', 'surprised', 'amazing', 'wonderful', 'terrible', 'beautiful',
            'gorgeous', 'stunning', 'breathtaking', 'heartbreaking', 'devastating',
            'inspiring', 'touching', 'moving', 'hilarious', 'adorable', 'awesome'
        ];

        // Uncommon/sophisticated words
        const uncommonWords = [
            'curated', 'bespoke', 'artisan', 'handcrafted', 'meticulously', 'paradigm',
            'innovative', 'revolutionary', 'transformative', 'strategic', 'synergy',
            'optimize', 'leverage', 'insights', 'proprietary', 'sophisticated', 'elegant',
            'nuanced', 'comprehensive', 'meticulous', 'exemplary'
        ];

        // Urgency words
        const urgencyWords = [
            'urgent', 'hurry', 'now', 'today', 'tonight', 'soon', 'quick', 'fast',
            'limited', 'ending', 'expires', 'deadline', 'last chance', 'final', 'immediately'
        ];

        // Scarcity words
        const scarcityWords = [
            'limited', 'exclusive', 'only', 'few left', 'running out', 'while supplies',
            'spots left', 'almost gone', 'selling fast', 'rare', 'scarce', 'remaining'
        ];

        // Personalization indicators
        const personalizationWords = ['you', 'your', 'personalized', 'custom', 'just for you'];

        // Initialize social proof counter
        function initSocialProof() {
            let count = localStorage.getItem('subjectLineTests');
            if (!count) {
                count = 47234;
                localStorage.setItem('subjectLineTests', count);
            } else {
                count = parseInt(count) + 1;
                localStorage.setItem('subjectLineTests', count);
            }
            document.getElementById('userCount').textContent = count.toLocaleString();
        }

        // Analyze subject line
        function analyzeSubjectLine() {
            const subjectLine = document.getElementById('subjectLine').value.trim();
            
            if (!subjectLine) {
                alert('Please enter a subject line to analyze');
                return;
            }

            // Increment social proof
            let count = parseInt(localStorage.getItem('subjectLineTests')) + 1;
            localStorage.setItem('subjectLineTests', count);
            document.getElementById('userCount').textContent = count.toLocaleString();

            // Perform analysis
            const analysis = analyzeText(subjectLine);
            
            // Render all results
            renderScore(analysis);
            renderInboxPreviews(subjectLine);
            renderTabPrediction(analysis);
            renderWordAnalysis(subjectLine, analysis);
            renderSuggestions(subjectLine, analysis);
            renderFactors(analysis);

            // Show results
            document.getElementById('results').classList.add('show');
            setTimeout(() => {
                document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        // Analyze text
        function analyzeText(text) {
            const words = text.split(/\s+/).filter(w => w.length > 0);
            const lowerText = text.toLowerCase();
            
            const analysis = {
                wordCount: words.length,
                charCount: text.length,
                spamCount: 0,
                powerWordCount: 0,
                emotionalCount: 0,
                uncommonCount: 0,
                urgencyCount: 0,
                scarcityCount: 0,
                personalizationCount: 0,
                emojiCount: 0,
                hasProfanity: false,
                profanityFound: [],
                hasQuestion: text.includes('?'),
                hasNumber: /\d/.test(text),
                spamWords: [],
                powerWordsFound: [],
                emotionalWordsFound: [],
                uncommonWordsFound: []
            };

            // Check for profanity/inappropriate content
            profanityWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) {
                    analysis.hasProfanity = true;
                    analysis.profanityFound.push(word);
                }
            });

            // Check for spam words
            spamWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) {
                    analysis.spamCount++;
                    analysis.spamWords.push(word);
                }
            });

            // Check for power words
            powerWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) {
                    analysis.powerWordCount++;
                    analysis.powerWordsFound.push(word);
                }
            });

            // Check for emotional words
            emotionalWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) {
                    analysis.emotionalCount++;
                    analysis.emotionalWordsFound.push(word);
                }
            });

            // Check for uncommon words
            uncommonWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) {
                    analysis.uncommonCount++;
                    analysis.uncommonWordsFound.push(word);
                }
            });

            // Check urgency/scarcity
            urgencyWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) analysis.urgencyCount++;
            });
            scarcityWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) analysis.scarcityCount++;
            });

            // Check personalization
            personalizationWords.forEach(word => {
                if (lowerText.includes(word.toLowerCase())) analysis.personalizationCount++;
            });

            // Count emojis
            const emojiRegex = /[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]/gu;
            const emojis = text.match(emojiRegex);
            analysis.emojiCount = emojis ? emojis.length : 0;

            return analysis;
        }

        // Render score
        function renderScore(analysis) {
            let score = 100;
            
            // Deduct for issues
            if (analysis.hasProfanity) score -= 60;
            
            if (analysis.wordCount < 4) score -= 20;
            else if (analysis.wordCount > 12) score -= 15;
            
            if (analysis.charCount < 20) score -= 15;
            else if (analysis.charCount > 70) score -= 15;
            
            if (analysis.spamCount >= 3) score -= 30;
            else if (analysis.spamCount > 0) score -= 15;
            
            if (analysis.emojiCount === 0) score -= 5;
            else if (analysis.emojiCount > 3) score -= 20;
            
            if (analysis.urgencyCount + analysis.scarcityCount > 3) score -= 10;
            
            // Add bonuses
            if (analysis.powerWordCount > 0 && analysis.powerWordCount <= 3) score += 10;
            if (analysis.emotionalCount > 0 && analysis.emotionalCount <= 2) score += 5;
            if (analysis.personalizationCount > 0) score += 10;
            if (analysis.hasQuestion) score += 5;
            if (analysis.hasNumber) score += 5;
            if (analysis.uncommonCount > 0 && analysis.uncommonCount <= 2) score += 5;
            
            score = Math.max(0, Math.min(100, score));
            
            // Determine class and open rate
            let scoreClass, openRate;
            if (score >= 80) {
                scoreClass = 'excellent';
                openRate = '28-38%';
            } else if (score >= 65) {
                scoreClass = 'good';
                openRate = '22-28%';
            } else if (score >= 45) {
                scoreClass = 'fair';
                openRate = '16-22%';
            } else {
                scoreClass = 'poor';
                openRate = '10-16%';
            }
            
            document.getElementById('totalScore').textContent = score;
            document.getElementById('openRate').textContent = openRate;
            document.getElementById('scoreCircle').className = `score-circle ${scoreClass}`;
        }

        // Render inbox previews
        function renderInboxPreviews(text) {
            // Gmail (60 chars)
            document.getElementById('gmailPreview').textContent = text;
            if (text.length > 60) {
                document.getElementById('gmailTruncate').style.display = 'block';
            } else {
                document.getElementById('gmailTruncate').style.display = 'none';
            }
            
            // Outlook (similar to Gmail)
            document.getElementById('outlookPreview').textContent = text;
            
            // Mobile (47 chars)
            const mobileText = text.length > 47 ? text.substring(0, 47) + '...' : text;
            document.getElementById('mobilePreview').textContent = mobileText;
            if (text.length > 47) {
                document.getElementById('mobileTruncate').style.display = 'block';
            } else {
                document.getElementById('mobileTruncate').style.display = 'none';
            }
        }

        // Render Gmail tab prediction
        function renderTabPrediction(analysis) {
            const lowerText = document.getElementById('subjectLine').value.toLowerCase();
            
            let tab = 'primary';
            let confidence = 'High';
            let reason = 'No promotional or social keywords detected. Likely to land in Primary inbox.';
            let icon = 'üì•';
            
            // Check for profanity ‚Äî straight to spam
            if (analysis.hasProfanity) {
                tab = 'spam';
                confidence = 'Very High';
                reason = 'Inappropriate language detected. This email will almost certainly be flagged as spam or blocked entirely.';
                icon = 'üö´';
            }
            
            // Check for promotional indicators
            const promoKeywords = ['sale', 'discount', 'offer', 'deal', 'buy', 'shop', 'free', 'save', 'promo', '%', 'off'];
            const promoCount = promoKeywords.filter(k => lowerText.includes(k)).length;
            
            // Check for social indicators
            const socialKeywords = ['shared', 'posted', 'commented', 'liked', 'tagged', 'added you', 'friend request'];
            const socialCount = socialKeywords.filter(k => lowerText.includes(k)).length;
            
            if (promoCount >= 2) {
                tab = 'promotions';
                icon = 'üè∑Ô∏è';
                reason = `Detected ${promoCount} promotional keywords. Likely to be filtered to Promotions tab.`;
                confidence = promoCount >= 3 ? 'Very High' : 'High';
            } else if (socialCount >= 1) {
                tab = 'social';
                icon = 'üë•';
                reason = 'Social media keywords detected. May be filtered to Social tab.';
                confidence = 'Medium';
            } else if (promoCount === 1) {
                tab = 'promotions';
                icon = 'üè∑Ô∏è';
                reason = 'One promotional keyword detected. May be filtered to Promotions tab.';
                confidence = 'Medium';
            }
            
            const html = `
                <div class="tab-prediction ${tab}">
                    <div class="tab-prediction-header">
                        <span class="tab-icon">${icon}</span>
                        <span class="tab-name">${tab.charAt(0).toUpperCase() + tab.slice(1)} Tab</span>
                        <span class="tab-confidence">${confidence} confidence</span>
                    </div>
                    <div class="tab-reason">${reason}</div>
                </div>
            `;
            
            document.getElementById('tabPrediction').innerHTML = html;
        }

        // Render word analysis
        function renderWordAnalysis(text, analysis) {
            document.getElementById('totalWords').textContent = analysis.wordCount;
            document.getElementById('powerWords').textContent = analysis.powerWordCount;
            document.getElementById('emotionalWords').textContent = analysis.emotionalCount;
            document.getElementById('uncommonWords').textContent = analysis.uncommonCount;
            
            // Render word tags
            let tagsHTML = '';
            analysis.powerWordsFound.slice(0, 5).forEach(word => {
                tagsHTML += `<span class="word-tag power">üí™ ${word}</span>`;
            });
            analysis.emotionalWordsFound.slice(0, 5).forEach(word => {
                tagsHTML += `<span class="word-tag emotional">‚ù§Ô∏è ${word}</span>`;
            });
            analysis.uncommonWordsFound.slice(0, 5).forEach(word => {
                tagsHTML += `<span class="word-tag uncommon">‚ú® ${word}</span>`;
            });
            
            if (tagsHTML === '') {
                tagsHTML = '<p style="color: var(--text-muted); font-size: 0.9rem;">No special words detected. Try adding power words, emotional triggers, or uncommon vocabulary.</p>';
            }
            
            document.getElementById('wordTags').innerHTML = tagsHTML;
        }

        // Generate AI suggestions
        function renderSuggestions(text, analysis) {
            const suggestions = [];
            
            // Suggestion 1: Shorter version
            if (analysis.charCount > 50) {
                const words = text.split(' ');
                const shortened = words.slice(0, Math.ceil(words.length * 0.7)).join(' ');
                suggestions.push({
                    text: shortened,
                    reason: 'Shorter version for better mobile visibility'
                });
            }
            
            // Suggestion 2: Add personalization
            if (analysis.personalizationCount === 0) {
                suggestions.push({
                    text: text.replace(/^/, 'You: ').replace(/\b(the|this|these)\b/i, 'your'),
                    reason: 'Added personalization to increase engagement'
                });
            }
            
            // Suggestion 3: Add urgency
            if (analysis.urgencyCount === 0 && !text.toLowerCase().includes('today') && !text.toLowerCase().includes('now')) {
                const urgencyPhrase = ['today', 'this week', 'now', 'this weekend'][Math.floor(Math.random() * 4)];
                suggestions.push({
                    text: text + ` [${urgencyPhrase}]`,
                    reason: 'Added time-based urgency to drive action'
                });
            }
            
            // Suggestion 4: Question format
            if (!analysis.hasQuestion) {
                let questionVersion = text;
                if (text.toLowerCase().startsWith('how to')) {
                    questionVersion = text + '?';
                } else if (text.toLowerCase().includes('learn') || text.toLowerCase().includes('discover')) {
                    questionVersion = 'Want to ' + text.toLowerCase() + '?';
                } else {
                    questionVersion = 'Did you know? ' + text;
                }
                suggestions.push({
                    text: questionVersion,
                    reason: 'Question format to spark curiosity'
                });
            }
            
            // Suggestion 5: Number specificity
            if (!analysis.hasNumber) {
                suggestions.push({
                    text: text.replace(/\b(tips|ways|reasons|ideas|strategies)\b/i, '5 $1'),
                    reason: 'Added specific number for clarity and credibility'
                });
            }
            
            // Limit to 3 suggestions
            const finalSuggestions = suggestions.slice(0, 3);
            
            let html = '';
            finalSuggestions.forEach((sug, idx) => {
                html += `
                    <div class="suggestion-card">
                        <div class="suggestion-text">${sug.text}</div>
                        <div class="suggestion-reason">${sug.reason}</div>
                        <button class="copy-btn" onclick="copySuggestion(this, '${sug.text.replace(/'/g, "\\'")}')">Copy</button>
                    </div>
                `;
            });
            
            document.getElementById('suggestionsGrid').innerHTML = html;
        }

        // Copy suggestion
        function copySuggestion(btn, text) {
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        // Render factors
        function renderFactors(analysis) {
            const factors = [];
            
            // Word count
            let wcStatus = 'pass';
            let wcDesc = `${analysis.wordCount} words ‚Äì optimal range for readability`;
            if (analysis.wordCount < 4) {
                wcStatus = 'fail';
                wcDesc = `${analysis.wordCount} words ‚Äì too short, add more context`;
            } else if (analysis.wordCount > 12) {
                wcStatus = 'warning';
                wcDesc = `${analysis.wordCount} words ‚Äì may be too long for mobile`;
            }
            factors.push({ name: 'Word Count', status: wcStatus, desc: wcDesc });
            
            // Character length
            let clStatus = 'pass';
            let clDesc = `${analysis.charCount} characters ‚Äì good length`;
            if (analysis.charCount < 20) {
                clStatus = 'warning';
                clDesc = `${analysis.charCount} characters ‚Äì too brief, lacks detail`;
            } else if (analysis.charCount > 70) {
                clStatus = 'warning';
                clDesc = `${analysis.charCount} characters ‚Äì will truncate on most devices`;
            }
            factors.push({ name: 'Character Length', status: clStatus, desc: clDesc });
            
            // Spam triggers
            let spamStatus = 'pass';
            let spamDesc = 'No spam trigger words detected';
            if (analysis.spamCount >= 3) {
                spamStatus = 'fail';
                spamDesc = `${analysis.spamCount} spam triggers found: ${analysis.spamWords.slice(0, 3).join(', ')}. High risk of spam filtering.`;
            } else if (analysis.spamCount > 0) {
                spamStatus = 'warning';
                spamDesc = `${analysis.spamCount} spam trigger(s) detected: ${analysis.spamWords.join(', ')}`;
            }
            factors.push({ name: 'Spam Filter Risk', status: spamStatus, desc: spamDesc });
            
            // Emoji usage
            let emojiStatus = 'pass';
            let emojiDesc = analysis.emojiCount === 0 ? 'No emojis used' : `${analysis.emojiCount} emoji(s) ‚Äì helps stand out`;
            if (analysis.emojiCount === 0) {
                emojiStatus = 'warning';
                emojiDesc = 'No emojis. Consider adding 1-2 relevant emojis for visual interest.';
            } else if (analysis.emojiCount > 3) {
                emojiStatus = 'fail';
                emojiDesc = `${analysis.emojiCount} emojis ‚Äì too many, looks unprofessional`;
            }
            factors.push({ name: 'Emoji Usage', status: emojiStatus, desc: emojiDesc });
            
            // Power words
            let pwStatus = 'warning';
            let pwDesc = 'No power words detected';
            if (analysis.powerWordCount > 0 && analysis.powerWordCount <= 3) {
                pwStatus = 'pass';
                pwDesc = `${analysis.powerWordCount} power word(s) found ‚Äì boosts engagement`;
            } else if (analysis.powerWordCount > 3) {
                pwStatus = 'warning';
                pwDesc = `${analysis.powerWordCount} power words ‚Äì may seem over-promotional`;
            }
            factors.push({ name: 'Power Words', status: pwStatus, desc: pwDesc });
            
            // Personalization
            let persStatus = 'warning';
            let persDesc = 'No personalization detected. Use "you" or "your" to connect.';
            if (analysis.personalizationCount > 0) {
                persStatus = 'pass';
                persDesc = 'Personalized language detected ‚Äì increases relevance';
            }
            factors.push({ name: 'Personalization', status: persStatus, desc: persDesc });
            
            // Urgency/Scarcity
            const urgTotal = analysis.urgencyCount + analysis.scarcityCount;
            let urgStatus = 'warning';
            let urgDesc = 'No urgency or scarcity cues. Consider adding time-based language.';
            if (urgTotal > 0 && urgTotal <= 2) {
                urgStatus = 'pass';
                urgDesc = 'Good use of urgency/scarcity without being pushy';
            } else if (urgTotal > 2) {
                urgStatus = 'warning';
                urgDesc = 'Too much urgency ‚Äì may come across as desperate';
            }
            factors.push({ name: 'Urgency & Scarcity', status: urgStatus, desc: urgDesc });
            
            // Question format
            let qStatus = 'warning';
            let qDesc = 'Not a question. Questions can spark curiosity.';
            if (analysis.hasQuestion) {
                qStatus = 'pass';
                qDesc = 'Question format engages curiosity';
            }
            factors.push({ name: 'Question Format', status: qStatus, desc: qDesc });
            
            // Number usage
            let numStatus = 'warning';
            let numDesc = 'No numbers used. Numbers add specificity and credibility.';
            if (analysis.hasNumber) {
                numStatus = 'pass';
                numDesc = 'Numbers used ‚Äì increases click-through rate';
            }
            factors.push({ name: 'Number Usage', status: numStatus, desc: numDesc });
            
            // Render
            let html = '';
            factors.forEach(f => {
                const badge = f.status === 'pass' ? '‚úì' : f.status === 'warning' ? '‚ö†' : '‚úó';
                html += `
                    <div class="factor ${f.status}">
                        <div class="factor-header">
                            <span class="factor-name">${f.name}</span>
                            <span class="factor-badge">${badge}</span>
                        </div>
                        <div class="factor-description">${f.desc}</div>
                    </div>
                `;
            });
            
            document.getElementById('factorsGrid').innerHTML = html;
        }

        // Email capture
        function captureEmail(event) {
            event.preventDefault();
            const email = document.getElementById('emailInput').value;
            
            // Beehiiv subscribe (using their public API endpoint)
            // Replace 'YOUR_PUBLICATION_ID' with actual Beehiiv publication ID
            const beehiivURL = 'https://embeds.beehiiv.com/v2/subscribe';
            
            // For now, just show success and open Beehiiv page
            alert(`Thanks! Check your email (${email}) for your detailed report.`);
            
            // Open Beehiiv subscribe page in new tab
            window.open('https://lobstertank.beehiiv.com/subscribe', '_blank');
            
            // Reset form
            document.getElementById('emailInput').value = '';
        }

        // Share score
        function shareScore() {
            const score = document.getElementById('totalScore').textContent;
            const text = `I scored ${score}/100 on The Lobster Tank Email Subject Line Tester! Test yours: https://second-summit-marketing.github.io/lobster-tank-tools/`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Email Subject Line Score',
                    text: text
                }).catch(() => {
                    copyToClipboard(text);
                });
            } else {
                copyToClipboard(text);
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Share text copied to clipboard!');
            });
        }

        // Enter key support
        document.getElementById('subjectLine').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                analyzeSubjectLine();
            }
        });

        // Initialize
        initSocialProof();
    </script>
</body>
</html>
